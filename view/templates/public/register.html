<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>SpecterPanel - Register</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Material Design Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@6.9.96/css/materialdesignicons.min.css">
    
    <style>
      :root {
        --primary-color: #00ff41; /* Matrix Green */
        --primary-dark: #00cc33;
        --primary-light: #33ff6b;
        --secondary-color: #0088ff; /* Cyber Blue */
        --accent-color: #ff0088; /* Neon Pink */
        --dark-bg: #0a0a0a;
        --dark-surface: #111111;
        --dark-border: #1a1a1a;
        --dark-hover: #1f1f1f;
        --text-primary: #ffffff;
        --text-secondary: #cccccc;
        --text-muted: #888888;
        --text-light: #666666;
        --success-color: #00ff41;
        --warning-color: #ffaa00;
        --error-color: #ff0033;
        --gradient-primary: linear-gradient(135deg, #00ff41 0%, #0088ff 100%);
        --gradient-dark: linear-gradient(135deg, #111111 0%, #0a0a0a 100%);
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.8);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.9), 0 2px 4px -1px rgba(0, 0, 0, 0.8);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.9), 0 4px 6px -2px rgba(0, 0, 0, 0.8);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.9), 0 10px 10px -5px rgba(0, 0, 0, 0.8);
        --glow-primary: 0 0 10px rgba(0, 255, 65, 0.5), 0 0 20px rgba(0, 255, 65, 0.3);
        --glow-secondary: 0 0 10px rgba(0, 136, 255, 0.5), 0 0 20px rgba(0, 136, 255, 0.3);
      }
      
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: 'JetBrains Mono', monospace;
        background: var(--dark-bg);
        color: var(--text-primary);
        min-height: 100vh;
        overflow-x: hidden;
      }

      .container-scroller {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .page-body-wrapper {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        position: relative;
        overflow: hidden;
        padding: 2rem 1rem;
      }

      /* Matrix background effect */
      .matrix-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
        opacity: 0.1;
      }

      /* Hacker Glassmorphism Registration Card */
      .transparent-card {
        background: rgba(17, 17, 17, 0.8) !important;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(0, 255, 65, 0.3);
        border-radius: 8px;
        box-shadow: var(--shadow-lg), var(--glow-primary);
        color: var(--text-primary);
        max-width: 450px;
        width: 90%;
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .transparent-card:hover {
        box-shadow: var(--shadow-xl), 0 0 30px rgba(0, 255, 65, 0.4);
        border: 1px solid rgba(0, 255, 65, 0.6);
      }

      .transparent-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--gradient-primary);
        box-shadow: var(--glow-primary);
      }

      .transparent-card .card-body {
        padding: 2.5rem;
        color: var(--text-primary);
      }

      /* LARGER FORM INPUTS */
      .transparent-card .form-control {
        background: rgba(17, 17, 17, 0.7);
        border: 1px solid rgba(0, 255, 65, 0.3);
        border-radius: 6px;
        color: var(--text-primary);
        font-family: 'JetBrains Mono', monospace;
        padding: 1rem 1.25rem;
        font-size: 1rem;
        height: auto;
        min-height: 56px;
        transition: all 0.3s ease;
        width: 100%;
      }

      .transparent-card .form-control::placeholder {
        color: var(--text-muted);
        font-size: 0.95rem;
      }

      .transparent-card .form-control:focus {
        background: rgba(17, 17, 17, 0.9);
        border-color: var(--primary-color);
        box-shadow: var(--glow-primary);
        color: var(--text-primary);
        outline: none;
        transform: translateY(-2px);
      }

      .transparent-card .form-group {
        margin-bottom: 1.5rem;
      }

      .transparent-card .form-group label {
        color: var(--primary-color);
        font-weight: 600;
        margin-bottom: 0.75rem;
        text-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
        font-size: 1rem;
        display: block;
      }

      .transparent-card .btn-primary {
        background: var(--gradient-primary);
        border: 1px solid rgba(0, 255, 65, 0.5);
        border-radius: 6px;
        color: var(--dark-bg);
        font-family: 'JetBrains Mono', monospace;
        font-weight: 600;
        padding: 1.125rem 1.5rem;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        min-height: 60px;
        width: 100%;
      }

      .transparent-card .btn-primary::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s;
      }

      .transparent-card .btn-primary:hover::before {
        left: 100%;
      }

      .transparent-card .btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 0 25px rgba(0, 255, 65, 0.6);
      }

      .transparent-card a {
        color: var(--primary-color);
        text-decoration: none;
        transition: all 0.3s ease;
        text-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
        font-size: 0.95rem;
      }

      .transparent-card a:hover {
        color: var(--primary-light);
        text-shadow: 0 0 15px rgba(0, 255, 65, 0.6);
      }

      .transparent-card .mdi-arrow-left-bold {
        color: var(--primary-color) !important;
        font-size: 1.75rem;
        padding: 1.25rem;
        display: inline-block;
        transition: all 0.3s ease;
        text-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
      }

      .transparent-card .mdi-arrow-left-bold:hover {
        color: var(--primary-light) !important;
        text-shadow: 0 0 15px rgba(0, 255, 65, 0.6);
        transform: translateX(-3px);
      }

      .card-title {
        color: var(--primary-color);
        font-weight: 600;
        margin-bottom: 2rem;
        text-align: center;
        text-shadow: 0 0 15px rgba(0, 255, 65, 0.5);
        font-size: 1.75rem;
      }

      .text-center {
        text-align: center;
      }

      .text-left {
        text-align: left;
      }

      .enter-btn {
        width: 100%;
        margin-bottom: 1.5rem;
      }

      .sign-up {
        color: var(--text-secondary);
        text-align: center;
        margin-top: 1.5rem;
        font-size: 1rem;
      }

      .terms {
        color: var(--text-secondary);
        text-align: center;
        margin-top: 1rem;
        font-size: 0.9rem;
      }

      /* Terminal-style elements */
      .terminal-prompt {
        color: var(--primary-color);
        font-weight: 600;
        margin-right: 0.5rem;
      }

      .status-indicator {
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        padding: 1rem 1.25rem;
        background: rgba(0, 255, 65, 0.1);
        border: 1px solid rgba(0, 255, 65, 0.3);
        border-radius: 6px;
        color: var(--primary-color);
        font-size: 0.95rem;
        margin-bottom: 1.5rem;
        width: 100%;
        justify-content: center;
        min-height: 50px;
      }

      .status-indicator::before {
        content: '';
        width: 10px;
        height: 10px;
        background: var(--primary-color);
        border-radius: 50%;
        box-shadow: 0 0 15px var(--primary-color);
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }

      /* Registration header with branding */
      .register-header {
        text-align: center;
        margin-bottom: 2.5rem;
      }

      .brand-logo {
        font-size: 2.25rem;
        font-weight: 700;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
        text-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
      }

      .brand-subtitle {
        color: var(--text-secondary);
        font-size: 1rem;
        letter-spacing: 1px;
      }

      /* Improved spacing for form elements */
      .form-container {
        margin-top: 1rem;
      }

      /* Modal styles for hacker theme */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.8);
        backdrop-filter: blur(5px);
      }
      
      .modal-content {
        background: rgba(17, 17, 17, 0.9);
        backdrop-filter: blur(20px);
        margin: 5% auto;
        padding: 2rem;
        border: 1px solid rgba(0, 255, 65, 0.3);
        width: 90%;
        max-width: 600px;
        border-radius: 8px;
        color: var(--text-primary);
        box-shadow: var(--shadow-xl), var(--glow-primary);
        position: relative;
      }
      
      .modal-content::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--gradient-primary);
        box-shadow: var(--glow-primary);
      }
      
      .close {
        color: var(--primary-color);
        float: right;
        font-size: 2rem;
        font-weight: bold;
        line-height: 1;
        text-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
        transition: all 0.3s ease;
      }
      
      .close:hover,
      .close:focus {
        color: var(--primary-light);
        text-shadow: 0 0 15px rgba(0, 255, 65, 0.8);
        text-decoration: none;
        cursor: pointer;
        transform: scale(1.1);
      }
      
      #acceptBtn {
        background: var(--gradient-primary);
        border: 1px solid rgba(0, 255, 65, 0.5);
        border-radius: 6px;
        color: var(--dark-bg);
        font-family: 'JetBrains Mono', monospace;
        font-weight: 600;
        padding: 1rem 2rem;
        font-size: 1rem;
        cursor: pointer;
        margin-top: 1.5rem;
        transition: all 0.3s ease;
        width: 100%;
      }
      
      #acceptBtn:hover {
        transform: translateY(-2px);
        box-shadow: 0 0 20px rgba(0, 255, 65, 0.6);
      }

      .modal-content h2 {
        color: var(--primary-color);
        margin-bottom: 1.5rem;
        text-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
      }

      .modal-content p {
        margin-bottom: 1rem;
        line-height: 1.6;
        color: var(--text-secondary);
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .transparent-card {
          width: 95%;
          margin: 1rem;
        }
        
        .transparent-card .card-body {
          padding: 2rem 1.5rem;
        }
        
        .card-title {
          font-size: 1.5rem;
        }
        
        .transparent-card .form-control {
          padding: 0.875rem 1rem;
          font-size: 0.95rem;
          min-height: 52px;
        }
        
        .transparent-card .btn-primary {
          padding: 1rem 1.25rem;
          font-size: 1rem;
          min-height: 56px;
        }

        .modal-content {
          padding: 1.5rem;
          margin: 10% auto;
        }
      }

      @media (max-width: 480px) {
        .page-body-wrapper {
          padding: 1rem 0.5rem;
        }
        
        .transparent-card .card-body {
          padding: 1.5rem 1.25rem;
        }
        
        .brand-logo {
          font-size: 1.75rem;
        }
        
        .card-title {
          font-size: 1.35rem;
        }
      }

      /* Animation for card entrance */
      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .transparent-card {
        animation: slideUp 0.6s ease-out;
      }

      /* Error message styling */
      .alert-danger {
        background: rgba(255, 0, 51, 0.1);
        border: 1px solid rgba(255, 0, 51, 0.3);
        color: var(--error-color);
        padding: 1rem 1.25rem;
        border-radius: 6px;
        margin-bottom: 1.5rem;
        font-size: 0.95rem;
        box-shadow: 0 0 10px rgba(255, 0, 51, 0.2);
        min-height: 50px;
        display: flex;
        align-items: center;
      }

      /* Improved back button positioning */
      .back-button {
        position: absolute;
        top: 0.5rem;
        left: 0.5rem;
        z-index: 10;
      }

      /* Better focus states for accessibility */
      .form-control:focus,
      .btn-primary:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
      }
    </style>
  </head>
  <body>
    <div class="container-scroller">
      <div class="page-body-wrapper">
        <!-- Matrix background canvas -->
        <canvas class="matrix-bg" id="matrixBg"></canvas>
        
        <div class="transparent-card">
          <div class="back-button">
            <a href="/" class="mdi mdi-arrow-left-bold"></a>
          </div>
          
          <div class="card-body">
            <!-- Registration Header -->
            <div class="register-header">
              <div class="brand-logo">SpecterPanel</div>
              <div class="brand-subtitle>_ ACCOUNT CREATION</div>
            </div>

            <!-- Status Indicator -->
            <div class="status-indicator">
              INITIATING USER REGISTRATION PROTOCOL
            </div>

            <h3 class="card-title text-left">>_ REGISTER</h3>
            
            <!-- Flash messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="alert-danger">
                    <span class="terminal-prompt">$ ERROR:</span> {{ message }}
                  </div>
                {% endfor %}
              {% endif %}
            {% endwith %}
            
            <div class="form-container">
              <form action="/register" method="post">
                <div class="form-group">
                  <label><span class="terminal-prompt">$</span> EMAIL</label>
                  <input type="email" name="email" class="form-control p_input" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                  <label><span class="terminal-prompt">$</span> PASSWORD</label>
                  <input type="password" name="password" class="form-control p_input" placeholder="Create a password" required>
                </div>
                <div class="form-group">
                  <label><span class="terminal-prompt">$</span> CONFIRM PASSWORD</label>
                  <input type="password" name="con-password" class="form-control p_input" placeholder="Confirm your password" required>
                </div>
                <div class="text-center">
                  <button type="submit" class="btn btn-primary btn-block enter-btn">
                    <span class="mdi mdi-account-plus mr-2"></span>CREATE ACCOUNT
                  </button>
                </div>
                <p class="sign-up">ALREADY HAVE AN ACCOUNT?<a href="/login"> > SIGN IN</a></p>
                <p class="terms">BY CREATING AN ACCOUNT YOU ARE ACCEPTING OUR<a id="openModalBtn" href="#"> > TERMS & CONDITIONS</a></p>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Terms and Conditions Modal -->
    <div id="termsModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>>_ TERMS AND CONDITIONS</h2>
        <p>
          WELCOME TO SPECTERPANEL. BY ACCESSING OR USING THIS PLATFORM, YOU AGREE TO BE BOUND BY THE FOLLOWING TERMS AND CONDITIONS. IF YOU DO NOT AGREE WITH ANY PART OF THESE TERMS, YOU MUST NOT USE THIS SERVICE.
        </p>
        <p>
          USERS ARE PROHIBITED FROM USING THIS PLATFORM FOR ANY UNLAWFUL PURPOSE, INCLUDING BUT NOT LIMITED TO UNAUTHORIZED ACCESS, DATA SCRAPING, DENIAL OF SERVICE ATTACKS, OR ANY FORM OF HACKING OR ABUSE. YOU MUST NOT TRANSMIT WORMS, VIRUSES, OR ANY CODE OF A DESTRUCTIVE NATURE.
        </p>
        <p>
          WE RESERVE THE RIGHT TO UPDATE, MODIFY, OR CHANGE THESE TERMS AT ANY TIME WITHOUT PRIOR NOTICE. YOUR CONTINUED USE OF THE PLATFORM AFTER ANY CHANGES INDICATES YOUR ACCEPTANCE OF THE UPDATED TERMS.
        </p>
        <p>
          ACCESS TO CERTAIN FEATURES OR CONTENT MAY BE RESTRICTED AND REQUIRE REGISTRATION. YOU ARE RESPONSIBLE FOR MAINTAINING THE CONFIDENTIALITY OF YOUR LOGIN CREDENTIALS AND FOR ALL ACTIVITIES THAT OCCUR UNDER YOUR ACCOUNT.
        </p>
        <p>
          WE SHALL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES RESULTING FROM THE USE OR INABILITY TO USE OUR PLATFORM OR SERVICES.
        </p>
        <p>
          VIOLATIONS OF THESE TERMS MAY RESULT IN THE IMMEDIATE SUSPENSION OR TERMINATION OF YOUR ACCESS, AND MAY BE REPORTED TO LEGAL AUTHORITIES IF NECESSARY.
        </p>
        <p>
          BY CLICKING "ACCEPT," YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTOOD, AND AGREED TO ABIDE BY THESE TERMS AND CONDITIONS.
        </p>
        <button id="acceptBtn">> ACCEPT</button>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Matrix background effect
        const matrixBg = document.getElementById('matrixBg');
        if (matrixBg) {
          const ctx = matrixBg.getContext('2d');
          matrixBg.width = window.innerWidth;
          matrixBg.height = window.innerHeight;
          
          const chars = "01";
          const charArray = chars.split("");
          const fontSize = 12;
          const columns = matrixBg.width / fontSize;
          const drops = [];
          
          for (let x = 0; x < columns; x++) {
            drops[x] = 1;
          }
          
          function drawMatrix() {
            ctx.fillStyle = "rgba(10, 10, 10, 0.04)";
            ctx.fillRect(0, 0, matrixBg.width, matrixBg.height);
            
            ctx.fillStyle = "#00ff41";
            ctx.font = fontSize + "px 'JetBrains Mono'";
            
            for (let i = 0; i < drops.length; i++) {
              const text = charArray[Math.floor(Math.random() * charArray.length)];
              ctx.fillText(text, i * fontSize, drops[i] * fontSize);
              
              if (drops[i] * fontSize > matrixBg.height && Math.random() > 0.975) {
                drops[i] = 0;
              }
              
              drops[i]++;
            }
          }
          
          setInterval(drawMatrix, 35);
        }

        // Modal functionality
        var modal = document.getElementById("termsModal");
        var btn = document.getElementById("openModalBtn");
        var span = document.getElementsByClassName("close")[0];
        var acceptBtn = document.getElementById("acceptBtn");

        btn.onclick = function(e) {
          e.preventDefault();
          modal.style.display = "block";
        }

        span.onclick = function() {
          modal.style.display = "none";
        }

        acceptBtn.onclick = function() {
          modal.style.display = "none";
        }

        window.onclick = function(event) {
          if (event.target == modal) {
            modal.style.display = "none";
          }
        }

        // Add typewriter effect to form labels on focus
        const inputs = document.querySelectorAll('.form-control');
        inputs.forEach(input => {
          input.addEventListener('focus', function() {
            this.parentElement.style.textShadow = '0 0 15px rgba(0, 255, 65, 0.6)';
          });
          
          input.addEventListener('blur', function() {
            this.parentElement.style.textShadow = '0 0 10px rgba(0, 255, 65, 0.3)';
          });
        });

        // Add glitch effect to title on hover
        const title = document.querySelector('.card-title');
        if (title) {
          title.addEventListener('mouseenter', function() {
            this.style.textShadow = '0 0 20px rgba(0, 255, 65, 0.8)';
            setTimeout(() => {
              this.style.textShadow = '0 0 15px rgba(0, 255, 65, 0.5)';
            }, 100);
          });
        }

        // Add terminal-style input effects
        const form = document.querySelector('form');
        if (form) {
          form.addEventListener('submit', function(e) {
            const submitBtn = this.querySelector('.enter-btn');
            if (submitBtn) {
              submitBtn.innerHTML = '<span class="mdi mdi-loading mdi-spin mr-2"></span>CREATING ACCOUNT...';
              submitBtn.disabled = true;
            }
          });
        }
      });

      // Handle window resize
      window.addEventListener('resize', function() {
        const matrixBg = document.getElementById('matrixBg');
        if (matrixBg) {
          matrixBg.width = window.innerWidth;
          matrixBg.height = window.innerHeight;
        }
      });
    </script>
  </body>
</html>